{"ast":null,"code":"import _regeneratorRuntime from\"/media/jagjot/754e918e-a20d-43ad-a063-e00ef6501e4a/codes/Web 3.O/CrowdFunding/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/media/jagjot/754e918e-a20d-43ad-a063-e00ef6501e4a/codes/Web 3.O/CrowdFunding/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/media/jagjot/754e918e-a20d-43ad-a063-e00ef6501e4a/codes/Web 3.O/CrowdFunding/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import abi from\"./contracts/CrowdFunding.json\";import{useState,useEffect}from\"react\";import{ethers}from\"ethers\";import Buy from\"./components/Buy\";import Contributers from\"./components/Contributers\";import\"./components/Main.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState({provider:null,signer:null,contract:null}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(\"No account connected\"),_useState4=_slicedToArray(_useState3,2),account=_useState4[0],setAccount=_useState4[1];useEffect(function(){var connectWallet=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var contractAddress,contractABI,_window,ethereum,_account,provider,signer,contract;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:contractAddress=\"0xCCEa6E4A3134726FBb66b90B8145BD126362a1aD\";contractABI=abi.abi;_context.prev=2;_window=window,ethereum=_window.ethereum;if(!ethereum){_context.next=17;break;}_context.next=7;return ethereum.request({method:\"eth_requestAccounts\"});case 7:_account=_context.sent;window.ethereum.on(\"chainChanged\",function(){window.location.reload();});window.ethereum.on(\"accountsChanged\",function(){window.location.reload();});provider=new ethers.providers.Web3Provider(ethereum);signer=provider.getSigner();contract=new ethers.Contract(contractAddress,contractABI,signer);setAccount(_account);setState({provider:provider,signer:signer,contract:contract});_context.next=18;break;case 17:alert(\"Please install metamask\");case 18:_context.next=23;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 23:case\"end\":return _context.stop();}},_callee,null,[[2,20]]);}));return function connectWallet(){return _ref.apply(this,arguments);};}();connectWallet();},[]);var checkConnectedWallet=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var _window2,ethereum,provider,signer,connectedAccount;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_window2=window,ethereum=_window2.ethereum;if(!(ethereum&&ethereum.selectedAddress)){_context2.next=8;break;}provider=new ethers.providers.Web3Provider(ethereum);signer=provider.getSigner();_context2.next=6;return signer.getAddress();case 6:connectedAccount=_context2.sent;setState({provider:provider,signer:signer,connectedAccount:connectedAccount});case 8:case\"end\":return _context2.stop();}},_callee2);}));return function checkConnectedWallet(){return _ref2.apply(this,arguments);};}();useEffect(function(){checkConnectedWallet();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"App-header\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Crowd\",/*#__PURE__*/_jsx(\"span\",{className:\"blue\",children:\"Funding\"})]}),/*#__PURE__*/_jsx(\"h4\",{children:\"A Permanent Repository for Charitable Contributions\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"App-connection\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"blue\",children:\"Connected Account:\"}),\" \",String(account).toUpperCase()]}),/*#__PURE__*/_jsx(Buy,{state:state}),/*#__PURE__*/_jsx(Contributers,{state:state})]})});}export default App;","map":{"version":3,"names":["abi","useState","useEffect","ethers","Buy","Contributers","jsx","_jsx","jsxs","_jsxs","App","_useState","provider","signer","contract","_useState2","_slicedToArray","state","setState","_useState3","_useState4","account","setAccount","connectWallet","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","contractAddress","contractABI","_window","ethereum","_account","wrap","_callee$","_context","prev","next","window","request","method","sent","on","location","reload","providers","Web3Provider","getSigner","Contract","alert","t0","console","log","stop","apply","arguments","checkConnectedWallet","_ref2","_callee2","_window2","connectedAccount","_callee2$","_context2","selectedAddress","getAddress","className","children","String","toUpperCase"],"sources":["/media/jagjot/754e918e-a20d-43ad-a063-e00ef6501e4a/codes/Web 3.O/CrowdFunding/client/src/App.js"],"sourcesContent":["import abi from \"./contracts/CrowdFunding.json\";\nimport { useState, useEffect } from \"react\";\nimport { ethers } from \"ethers\";\nimport Buy from \"./components/Buy\";\nimport Contributers from \"./components/Contributers\";\nimport \"./components/Main.css\";\n\nfunction App() {\n  const [state, setState] = useState({\n    provider: null,\n    signer: null,\n    contract: null,\n  });\n  const [account, setAccount] = useState(\"No account connected\");\n\n  useEffect(() => {\n    const connectWallet = async () => {\n      const contractAddress = \"0xCCEa6E4A3134726FBb66b90B8145BD126362a1aD\";\n      const contractABI = abi.abi;\n      try {\n        const { ethereum } = window;\n\n        if (ethereum) {\n          const account = await ethereum.request({\n            method: \"eth_requestAccounts\",\n          });\n\n          window.ethereum.on(\"chainChanged\", () => {\n            window.location.reload();\n          });\n\n          window.ethereum.on(\"accountsChanged\", () => {\n            window.location.reload();\n          });\n\n          const provider = new ethers.providers.Web3Provider(ethereum);\n          const signer = provider.getSigner();\n          const contract = new ethers.Contract(\n            contractAddress,\n            contractABI,\n            signer\n          );\n          setAccount(account);\n          setState({ provider, signer, contract });\n        } else {\n          alert(\"Please install metamask\");\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    connectWallet();\n  }, []);\n\n  const checkConnectedWallet = async () => {\n    const { ethereum } = window;\n    if (ethereum && ethereum.selectedAddress) {\n      const provider = new ethers.providers.Web3Provider(ethereum);\n      const signer = provider.getSigner();\n      const connectedAccount = await signer.getAddress();\n      setState({ provider, signer, connectedAccount });\n    }\n  };\n\n  useEffect(() => {\n    checkConnectedWallet();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <div className=\"App-header\">\n        <h1>\n          Crowd<span className=\"blue\">Funding</span>\n        </h1>\n        <h4>A Permanent Repository for Charitable Contributions</h4>\n\n        {/* <div className=\"Account\"> */}\n          <p className=\"App-connection\"> <span className=\"blue\">Connected Account:</span> {String(account).toUpperCase()}</p>\n        {/* </div> */}\n\n        <Buy state={state} />\n        <Contributers state={state} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"8gBAAA,MAAO,CAAAA,GAAG,KAAM,+BAA+B,CAC/C,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,MAAM,KAAQ,QAAQ,CAC/B,MAAO,CAAAC,GAAG,KAAM,kBAAkB,CAClC,MAAO,CAAAC,YAAY,KAAM,2BAA2B,CACpD,MAAO,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/B,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,IAAAC,SAAA,CAA0BV,QAAQ,CAAC,CACjCW,QAAQ,CAAE,IAAI,CACdC,MAAM,CAAE,IAAI,CACZC,QAAQ,CAAE,IACZ,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAL,SAAA,IAJKM,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IAKtB,IAAAI,UAAA,CAA8BlB,QAAQ,CAAC,sBAAsB,CAAC,CAAAmB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAvDE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAE1BlB,SAAS,CAAC,UAAM,CACd,GAAM,CAAAqB,aAAa,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,eAAA,CAAAC,WAAA,CAAAC,OAAA,CAAAC,QAAA,CAAAC,QAAA,CAAArB,QAAA,CAAAC,MAAA,CAAAC,QAAA,QAAAY,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACdT,eAAe,CAAG,4CAA4C,CAC9DC,WAAW,CAAG9B,GAAG,CAACA,GAAG,CAAAoC,QAAA,CAAAC,IAAA,GAAAN,OAAA,CAEJQ,MAAM,CAAnBP,QAAQ,CAAAD,OAAA,CAARC,QAAQ,KAEZA,QAAQ,EAAAI,QAAA,CAAAE,IAAA,WAAAF,QAAA,CAAAE,IAAA,SACY,CAAAN,QAAQ,CAACQ,OAAO,CAAC,CACrCC,MAAM,CAAE,qBACV,CAAC,CAAC,QAFIpB,QAAO,CAAAe,QAAA,CAAAM,IAAA,CAIbH,MAAM,CAACP,QAAQ,CAACW,EAAE,CAAC,cAAc,CAAE,UAAM,CACvCJ,MAAM,CAACK,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC1B,CAAC,CAAC,CAEFN,MAAM,CAACP,QAAQ,CAACW,EAAE,CAAC,iBAAiB,CAAE,UAAM,CAC1CJ,MAAM,CAACK,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC1B,CAAC,CAAC,CAEIjC,QAAQ,CAAG,GAAI,CAAAT,MAAM,CAAC2C,SAAS,CAACC,YAAY,CAACf,QAAQ,CAAC,CACtDnB,MAAM,CAAGD,QAAQ,CAACoC,SAAS,CAAC,CAAC,CAC7BlC,QAAQ,CAAG,GAAI,CAAAX,MAAM,CAAC8C,QAAQ,CAClCpB,eAAe,CACfC,WAAW,CACXjB,MACF,CAAC,CACDS,UAAU,CAACD,QAAO,CAAC,CACnBH,QAAQ,CAAC,CAAEN,QAAQ,CAARA,QAAQ,CAAEC,MAAM,CAANA,MAAM,CAAEC,QAAQ,CAARA,QAAS,CAAC,CAAC,CAACsB,QAAA,CAAAE,IAAA,kBAEzCY,KAAK,CAAC,yBAAyB,CAAC,CAAC,QAAAd,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAe,EAAA,CAAAf,QAAA,aAGnCgB,OAAO,CAACC,GAAG,CAAAjB,QAAA,CAAAe,EAAM,CAAC,CAAC,yBAAAf,QAAA,CAAAkB,IAAA,MAAA1B,OAAA,iBAEtB,kBAlCK,CAAAL,aAAaA,CAAA,SAAAC,IAAA,CAAA+B,KAAA,MAAAC,SAAA,OAkClB,CACDjC,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAkC,oBAAoB,6BAAAC,KAAA,CAAAjC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAgC,SAAA,MAAAC,QAAA,CAAA5B,QAAA,CAAApB,QAAA,CAAAC,MAAA,CAAAgD,gBAAA,QAAAnC,mBAAA,GAAAQ,IAAA,UAAA4B,UAAAC,SAAA,iBAAAA,SAAA,CAAA1B,IAAA,CAAA0B,SAAA,CAAAzB,IAAA,SAAAsB,QAAA,CACNrB,MAAM,CAAnBP,QAAQ,CAAA4B,QAAA,CAAR5B,QAAQ,MACZA,QAAQ,EAAIA,QAAQ,CAACgC,eAAe,GAAAD,SAAA,CAAAzB,IAAA,UAChC1B,QAAQ,CAAG,GAAI,CAAAT,MAAM,CAAC2C,SAAS,CAACC,YAAY,CAACf,QAAQ,CAAC,CACtDnB,MAAM,CAAGD,QAAQ,CAACoC,SAAS,CAAC,CAAC,CAAAe,SAAA,CAAAzB,IAAA,SACJ,CAAAzB,MAAM,CAACoD,UAAU,CAAC,CAAC,QAA5CJ,gBAAgB,CAAAE,SAAA,CAAArB,IAAA,CACtBxB,QAAQ,CAAC,CAAEN,QAAQ,CAARA,QAAQ,CAAEC,MAAM,CAANA,MAAM,CAAEgD,gBAAgB,CAAhBA,gBAAiB,CAAC,CAAC,CAAC,wBAAAE,SAAA,CAAAT,IAAA,MAAAK,QAAA,GAEpD,kBARK,CAAAF,oBAAoBA,CAAA,SAAAC,KAAA,CAAAH,KAAA,MAAAC,SAAA,OAQzB,CAEDtD,SAAS,CAAC,UAAM,CACduD,oBAAoB,CAAC,CAAC,CACxB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACElD,IAAA,QAAK2D,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClB1D,KAAA,QAAKyD,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB1D,KAAA,OAAA0D,QAAA,EAAI,OACG,cAAA5D,IAAA,SAAM2D,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,SAAO,CAAM,CAAC,EACxC,CAAC,cACL5D,IAAA,OAAA4D,QAAA,CAAI,qDAAmD,CAAI,CAAC,cAG1D1D,KAAA,MAAGyD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAAC,GAAC,cAAA5D,IAAA,SAAM2D,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,oBAAkB,CAAM,CAAC,IAAC,CAACC,MAAM,CAAC/C,OAAO,CAAC,CAACgD,WAAW,CAAC,CAAC,EAAI,CAAC,cAGrH9D,IAAA,CAACH,GAAG,EAACa,KAAK,CAAEA,KAAM,CAAE,CAAC,cACrBV,IAAA,CAACF,YAAY,EAACY,KAAK,CAAEA,KAAM,CAAE,CAAC,EAC3B,CAAC,CACH,CAAC,CAEV,CAEA,cAAe,CAAAP,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}